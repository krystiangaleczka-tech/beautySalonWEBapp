<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 500" width="1600" height="500">
  <defs>
    <style>
      .box { fill: #4a4a4a; stroke: #ffffff; stroke-width: 2; }
      .text { fill: #ffffff; font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; }
      .title { fill: #ffffff; font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .arrow { stroke: #ffffff; stroke-width: 2; fill: none; }
      .group-box { fill: #5a5a5a; stroke: #888888; stroke-width: 2; }
      .section-title { fill: #ffffff; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="1600" height="500" fill="#2a2a2a"/>

  <!-- Notification Triggers Section -->
  <rect class="group-box" x="10" y="10" width="480" height="480" rx="5"/>
  <text class="section-title" x="250" y="35">Notification Triggers</text>

  <!-- Triggers -->
  <rect class="box" x="40" y="50" width="190" height="40" rx="3"/>
  <text class="text" x="135" y="75">Appointment Created</text>

  <rect class="box" x="40" y="140" width="190" height="40" rx="3"/>
  <text class="text" x="135" y="165">Appointment Updated</text>

  <rect class="box" x="40" y="230" width="190" height="40" rx="3"/>
  <text class="text" x="135" y="255">Appointment Cancelled</text>

  <rect class="box" x="40" y="320" width="190" height="40" rx="3"/>
  <text class="text" x="135" y="345">Reminder Scheduled</text>

  <!-- Central Notification Service -->
  <rect class="box" x="285" y="230" width="180" height="60" rx="3"/>
  <text class="text" x="375" y="265">Notification Service</text>

  <!-- Arrows from triggers to service -->
  <path class="arrow" d="M 230 70 L 285 260" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 230 160 L 285 260" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 230 250 L 285 260" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 230 340 L 285 260" marker-end="url(#arrowhead)"/>

  <!-- Notification Service Section -->
  <rect class="group-box" x="530" y="10" width="230" height="480" rx="5"/>
  <text class="section-title" x="645" y="35">Notification Service</text>

  <rect class="box" x="555" y="60" width="170" height="40" rx="3"/>
  <text class="text" x="640" y="85">Create Notification</text>

  <rect class="box" x="555" y="150" width="170" height="40" rx="3"/>
  <text class="text" x="640" y="175">Mark as Read</text>

  <rect class="box" x="555" y="240" width="170" height="40" rx="3"/>
  <text class="text" x="640" y="265">Batch Operations</text>

  <rect class="box" x="555" y="330" width="170" height="40" rx="3"/>
  <text class="text" x="640" y="355">Real-time Updates</text>

  <!-- Arrows to service -->
  <path class="arrow" d="M 465 260 L 555 80" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 465 260 L 555 170" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 465 260 L 555 260" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 465 260 L 555 350" marker-end="url(#arrowhead)"/>

  <!-- Notification Storage -->
  <rect class="group-box" x="800" y="60" width="230" height="220" rx="5"/>
  <text class="section-title" x="915" y="85">Notification Storage</text>

  <rect class="box" x="820" y="140" width="190" height="60" rx="3"/>
  <text class="text" x="915" y="175">Firestore Collection</text>

  <!-- Arrows to storage -->
  <path class="arrow" d="M 725 80 L 820 170" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 725 170 L 820 170" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 725 260 L 820 170" marker-end="url(#arrowhead)"/>

  <!-- Notification Delivery -->
  <rect class="group-box" x="1070" y="10" width="230" height="480" rx="5"/>
  <text class="section-title" x="1185" y="35">Notification Delivery</text>

  <rect class="box" x="1080" y="100" width="190" height="40" rx="3"/>
  <text class="text" x="1175" y="125">Real-time Listeners</text>

  <rect class="box" x="1110" y="190" width="160" height="40" rx="3"/>
  <text class="text" x="1190" y="215">Email Service</text>

  <rect class="box" x="1110" y="280" width="160" height="40" rx="3"/>
  <text class="text" x="1190" y="305">Push Notifications</text>

  <!-- Arrows from storage to delivery -->
  <path class="arrow" d="M 1010 170 L 1080 120" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 1010 170 L 1110 210" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 1010 170 L 1110 300" marker-end="url(#arrowhead)"/>

  <!-- UI Components -->
  <rect class="group-box" x="1340" y="40" width="240" height="280" rx="5"/>
  <text class="section-title" x="1460" y="65">UI Components</text>

  <rect class="box" x="1360" y="90" width="190" height="40" rx="3"/>
  <text class="text" x="1455" y="115">Notifications Modal</text>

  <rect class="box" x="1360" y="160" width="160" height="40" rx="3"/>
  <text class="text" x="1440" y="185">Badge Counter</text>

  <rect class="box" x="1340" y="250" width="180" height="40" rx="3"/>
  <text class="text" x="1430" y="275">Toast Messages</text>

  <!-- Arrows to UI -->
  <path class="arrow" d="M 1270 120 L 1360 110" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 1270 120 L 1360 180" marker-end="url(#arrowhead)"/>
  <path class="arrow" d="M 1270 210 L 1340 270" marker-end="url(#arrowhead)"/>

  <!-- Arrow marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#ffffff"/>
    </marker>
  </defs>
</svg>